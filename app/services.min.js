!function(){"use strict";angular.module("ticketingApp.Services",[]).factory("ticketingService",["$http",function(t){var e="http://apisnwm.cenapps.org.uk/Ticketing/Tickets/",n="http://apisnwm.cenapps.org.uk/Ticketing/";return{ticketSearch:function(n){return r(t.post(e+"Search",n,{cache:!0}))},getTicket:function(n){return r(t.get(e+n+"/simple",{cache:!0}))},getSimpleTicket:function(n){return r(t.get(e+n+"/simple",{cache:!0}))},getTerms:function(e){return r(t.get(n+"/Terms/"+e,{cache:!0}))},getStations:function(){return r(t.get(n+"Station/Train",{cache:!0}))},getOperators:function(){return r(t.get(n+"/operators",{cache:!0}))},getBrands:function(){return r(t.get(n+"/brands",{cache:!0}))},getSwiftSearch:function(){return r(t.post(e+"Search",{cache:!0}))}};function r(t){return t.then(c,i)}function c(t){return t.data}function i(t){console.warn("Status: "+t.status+"\n\nHeaders: "+t.statusText+"\n\nData: "+JSON.stringify(t.data)+"\n\nConfig: "+JSON.stringify(t.config))}}]).factory("savedFilter",[function(){return{set:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},get:function(t){return JSON.parse(sessionStorage.getItem(t))}}}]).factory("updatePageView",["$location",function(t){return{update:function(){dataLayer.push({event:"ngRouteChange",attributes:{route:t.absUrl().split("https://www.networkwestmidlands.com")[1]}})}}}])}();