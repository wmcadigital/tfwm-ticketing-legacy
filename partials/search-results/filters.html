<div class="boxin bg--blue bg--tint bdr-top--blue ticket-filters">
        <h3><i class="material-icons icon">filter_list</i>Filter your results</h3>
    <hr>
    
    <!-- Exclude Mode(s) -->
    <div class="filter-block" data-ng-hide="ticketing.postedJSON.brand == 'Diamond Bus' || ticketing.postedJSON.brand == 'Stagecoach' || ticketing.postedJSON.brand == 'Swift PAYG'" data-ng-if="!ticketing.postedJSON.allowBus || !ticketing.postedJSON.allowTrain || !ticketing.postedJSON.allowMetro">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('mode')">
            Exclude mode(s)
            <i class="material-icons">
                {{ticketing.filterButtons.mode ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.mode">
            <li data-ng-if="!ticketing.postedJSON.allowBus"> <!-- (ticketing.filteredTickets | filter: {allowBus: true}).length == '0' -->
                <input id="bus-only-radio" name="busOnly" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.allowBus"
                    data-ng-change="ticketing.update();ticketing.updateFilters()" data-ng-true-value="false" data-ng-false-value="true" />
                <label for="bus-only-radio">Bus ({{ (ticketing.filteredTickets | filter: {allowBus: true}).length }})</label>
            </li>
    
            <li data-ng-if="!ticketing.postedJSON.allowTrain">
                <input id="train-only-radio" name="trainOnly" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.allowTrain"
                    data-ng-change="ticketing.update();ticketing.updateFilters()" data-ng-true-value="false" data-ng-false-value="true" />
                <label for="train-only-radio">Train  ({{ (ticketing.filteredTickets | filter: {allowTrain: true}).length }})</label>
            </li>
    
            <li data-ng-if="!ticketing.postedJSON.allowMetro">
                <input id="tram-only-radio" name="tramOnly" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.allowMetro"
                    data-ng-change="ticketing.update();ticketing.updateFilters()" data-ng-true-value="false" data-ng-false-value="true" />
                <label for="tram-only-radio">Tram  ({{ (ticketing.filteredTickets | filter: {allowMetro: true}).length }})</label>
            </li>
        </ul>
    </div>

    <!-- How to Buy -->
    <div class="filter-block">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('payment')">
            How to Buy
            <i class="material-icons">
                {{ticketing.filterButtons.payment ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.payment">
            <li data-ng-hide="(ticketing.original | filter: {buyOnDirectDebit: true}).length == '0'">
                <input id="purchaseDebit" name="purchaseDebit" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.buyOnDirectDebit"
                data-ng-checked="buyOnDirectDebitCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {buyOnDirectDebit: true}).length == '0'" />
                <label for="purchaseDebit">Direct Debit ({{ (ticketing.filteredTickets | filter: {buyOnDirectDebit: true}).length}})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {buyOnDirectPurchase: true}).length == '0'">
                <input id="purchaseDirect" name="purchaseDirect" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.buyOnDirectPurchase" 
                data-ng-checked="buyOnDirectPurchaseCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {buyOnDirectPurchase: true}).length == '0'" />
                <label for="purchaseDirect">Quick buy ({{ (ticketing.filteredTickets | filter: {buyOnDirectPurchase: true}).length}})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {buyOnSwift: true}).length == '0'">
                <input id="purchaseSwift" name="purchaseSwift" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.buyOnSwift"
                data-ng-checked="buyOnSwiftCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {buyOnSwift: true}).length == '0'" />
                <label for="purchaseSwift">Swift ({{ (ticketing.filteredTickets | filter: {buyOnSwift: true}).length }})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {hasOnlinePurchaseChannel: true}).length == '0'">
                <input id="purchaseOnline" name="purchaseOnline" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.hasOnlinePurchaseChannel"
                data-ng-checked="hasOnlinePurchaseChannelCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {hasOnlinePurchaseChannel: true}).length == '0'" />
                <label for="purchaseOnline">Buy Online ({{ (ticketing.filteredTickets | filter: {hasOnlinePurchaseChannel: true}).length }})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {purchaseTic: true}).length == '0'">
                <input id="purchaseTic" name="purchaseTic" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.purchaseTic"
                data-ng-checked="purchaseTicCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {purchaseTic: true}).length == '0'" />
                <label for="purchaseTic">Buy at Travel Shop ({{ (ticketing.filteredTickets | filter: {purchaseTic: true}).length}})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {purchaseRailStation: true}).length == '0'">
                <input id="purchaseRailStation" name="purchaseRailStation" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.purchaseRailStation"
                data-ng-checked="purchaseRailStationCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {purchaseRailStation: true}).length == '0'" />
                <label for="purchaseRailStation">Buy at Rail Station ({{ (ticketing.filteredTickets | filter: {purchaseRailStation: true}).length}})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {purchasePayzone: true}).length == '0'">
                <input id="purchasePayzone" name="purchasePayzone" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.purchasePayzone"
                data-ng-checked="purchasePayzoneCheck()" data-ng-change="ticketing.update()" ng-disabled="(ticketing.filteredTickets | filter: {purchasePayzone: true}).length == '0'" />
                <label for="purchasePayzone">Buy at Payzone Outlet ({{ (ticketing.filteredTickets | filter: {purchasePayzone: true}).length}})</label>
            </li>
        </ul>
    </div>

    <!-- Time period -->
    <div class="filter-block"
        data-ng-hide="(ticketing.original | filter: {timePeriod1: true}).length == '0' && (ticketing.original | filter: {timePeriod2: true}).length == '0' && (ticketing.original | filter: {timePeriod3: true}).length == '0' && (ticketing.original | filter: {timePeriod4: true}).length == '0'">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('time')">
            Time of weekday travel
            <i class="material-icons">
                {{ticketing.filterButtons.time ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <a data-ng-if="ticketing.timePeriodAll || ticketing.searchFilters.timePeriod1 || ticketing.searchFilters.timePeriod2 || ticketing.searchFilters.timePeriod3 || ticketing.searchFilters.timePeriod4" data-ng-click="ticketing.clearTime();">Clear</a>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.time">
            <li data-ng-hide="(ticketing.original | filter: {timePeriod1: true, timePeriod2: true, timePeriod3: true, timePeriod4: true}).length == '0'">
                <input id="timePeriodAll" name="timePeriodAll" type="checkbox" class="stylized"
                    data-ng-model="ticketing.timePeriodAll" data-ng-checked="timePeriod1CheckAll()"
                    data-ng-change="ticketing.checkTimeAll();ticketing.update();" data-ng-true-value="'yes'" data-ng-false-value="'no'"
                    ng-disabled="(ticketing.filteredTickets | filter: {timePeriod1: true, timePeriod2: true, timePeriod3: true, timePeriod4: true}).length == '0'" />
                <label for="timePeriodAll">Anytime
                    ({{(ticketing.filteredTickets | filter: {timePeriod1: true, timePeriod2: true, timePeriod3: true, timePeriod4: true}).length}})
                </label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {timePeriod1: true, timePeriod2: false, timePeriod3: false, timePeriod4: false}).length == '0'">
                <input id="timePeriod1" name="timePeriod1" type="checkbox" class="stylized"
                    data-ng-model="ticketing.searchFilters.timePeriod1" data-ng-checked="timePeriod1Check()"
                    data-ng-change="ticketing.checkTime();ticketing.travelPre930();ticketing.update();"
                    ng-disabled="(ticketing.filteredTickets | filter: {timePeriod1: true, timePeriod2: false, timePeriod3: false, timePeriod4: false}).length == '0'" />
                <label for="timePeriod1">Before 09:30am
                    ({{ (ticketing.filteredTickets | filter: {timePeriod1: true, timePeriod2: false, timePeriod3: false, timePeriod4: false}).length}})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {timePeriod1: false, timePeriod2: true, timePeriod3: false, timePeriod4: false}).length == '0'">
                <input id="timePeriod2" name="timePeriod2" type="checkbox" class="stylized"
                    data-ng-model="ticketing.searchFilters.timePeriod2" data-ng-checked="timePeriod2Check()"
                    data-ng-change="ticketing.update()"
                    ng-disabled="(ticketing.filteredTickets | filter: {timePeriod1: false, timePeriod2: true, timePeriod3: false, timePeriod4: false}).length == '0'" />
                <label for="timePeriod2">09:30am – 3:30pm
                    ({{ (ticketing.filteredTickets | filter: {timePeriod1: false, timePeriod2: true, timePeriod3: false, timePeriod4: false}).length}})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {timePeriod1: false, timePeriod2: false, timePeriod3: true, timePeriod4: false}).length == '0'">
                <input id="timePeriod3" name="timePeriod3" type="checkbox" class="stylized"
                    data-ng-model="ticketing.searchFilters.timePeriod3" data-ng-checked="timePeriod3Check()"
                    data-ng-change="ticketing.update()"
                    ng-disabled="(ticketing.filteredTickets | filter: {timePeriod1: false, timePeriod2: false, timePeriod3: true, timePeriod4: false}).length == '0'" />
                <label for="timePeriod3">3.30pm – 6:00pm
                    ({{ (ticketing.filteredTickets | filter: {timePeriod1: false, timePeriod2: false, timePeriod3: true, timePeriod4: false}).length }})</label>
            </li>
            <li data-ng-hide="(ticketing.original | filter: {timePeriod1: false, timePeriod2: false, timePeriod3: false, timePeriod4: true}).length == '0'">
                <input id="timePeriod4" name="timePeriod4" type="checkbox" class="stylized"
                    data-ng-model="ticketing.searchFilters.timePeriod4" data-ng-checked="timePeriod4Check()"
                    data-ng-change="ticketing.update()"
                    ng-disabled="(ticketing.filteredTickets | filter: {timePeriod1: false, timePeriod2: false, timePeriod3: false, timePeriod4: true}).length == '0'" />
                <label for="timePeriod4">After 6pm
                    ({{ (ticketing.filteredTickets | filter: {timePeriod1: false, timePeriod2: false, timePeriod3: false, timePeriod4: true}).length }})</label>
            </li>
        </ul>
    </div>

    <!-- Bus Travel Area -->
    <div class="filter-block" data-ng-if="ticketing.postedJSON.allowBus || ticketing.postedJSON.brand == 'National Express' || ticketing.postedJSON.brand == 'nbus' || ticketing.postedJSON.brand == 'Diamond Bus' || ticketing.postedJSON.brand == 'Stagecoach' && ticketing.filterButtons.busTravelArea.length">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('busTravelAreaBtn')">
            Bus Travel Area
            <i class="material-icons">
                {{ticketing.filterButtons.busTravelAreaBtn ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.busTravelAreaBtn">
        <li>
            <input id="busTravelArea{{$index}}" name="busTravelArea{{$index}}" type="radio" class="stylized" data-ng-model="ticketing.searchFilters.busTravelArea"
            data-ng-checked="'{{busTravelAreaParameter}}' == '{{filter}}'" data-ng-change="ticketing.update();" />
            <label for="busTravelArea{{$index}}">
                All Areas ({{ticketing.original.length}})
            </label>
        </li>
            <li data-ng-repeat="filter in ticketing.filterButtons.busTravelArea | orderBy: filter | filter:''" data-ng-if="filter != null" data-ng-hide="{{(ticketing.original | filter: {busTravelArea: filter}).length}} == '0'">
                <input id="busTravelArea{{$index}}" name="busTravelArea{{$index}}" type="radio" class="stylized" data-ng-model="ticketing.searchFilters.busTravelArea"
                data-ng-checked="('{{busTravelAreaParameter}}' == '{{filter}}') ? true : false" data-ng-change="ticketing.update();" value="{{filter}}" data-ng-true-value="true" data-ng-false-value="false" />
                <label for="busTravelArea{{$index}}">
                    <span data-ng-if="ticketing.postedJSON.brand == 'Diamond Bus'">{{filter |replace: 'Entire Operator Area':'Diamond Bus Area'}} ({{ (ticketing.original | filter: {busTravelArea:filter}).length }})</span>
                    <span data-ng-if="ticketing.postedJSON.brand == 'Stagecoach'">{{filter |replace: 'Entire Operator Area':'Stagecoach Bus Area'}} ({{ (ticketing.original | filter: {busTravelArea:filter}).length }})</span>
                    <span data-ng-hide="ticketing.postedJSON.brand == 'Diamond Bus' || ticketing.postedJSON.brand == 'Stagecoach'">{{filter |replace: 'Entire Operator Area':'Diamond Bus Area'}} ({{ (ticketing.original | filter: {busTravelArea:filter}).length }})</span>
                </label>
            </li>
        </ul>
    </div>

    <!-- Bus Operator -->
    <div class="filter-block" data-ng-hide="ticketing.postedJSON.allowBus && ticketing.postedJSON.allowMetro && ticketing.postedJSON.allowTrain || ticketing.postedJSON.brand == 'nnetwork'" data-ng-if="ticketing.postedJSON.allowBus && ticketing.filterButtons.operator.length">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('operatorBtn')">
            Bus Operator
            <i class="material-icons">
                {{ticketing.filterButtons.operatorBtn ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.operatorBtn">
        <li>
            <input id="operator00" type="radio" class="stylized" data-ng-model="ticketing.searchFilters.operator"
                data-ng-change="ticketing.update();" />
            <label for="operator00">All Operators ({{ticketing.original.length}})
            </label>
        </li>
            <li data-ng-repeat="filter in ticketing.filterButtons.operator | orderBy: filter | filter:''" data-ng-if="filter != null" data-ng-hide="{{(ticketing.original | filter: {operator: filter}).length}} == '0'">
                <input id="operator{{$index}}" type="radio" class="stylized" data-ng-model="ticketing.searchFilters.operator"
                    data-ng-change="ticketing.update();" value="{{filter}}" />
                <label for="operator{{$index}}">{{filter |replace: 'Network West Midlands':'Multi Operator'}} ({{ (ticketing.original | filter: {operator: filter}).length}})
                </label>
            </li>
        </ul>
    </div>

    <!-- Train Zones-->
    <div class="filter-block" data-ng-if="ticketing.postedJSON.allowTrain || ticketing.postedJSON.brand == 'ntrain' || ticketing.postedJSON.brand == 'nnetwork'">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('railZoneBtn')">
            Train/rail zones
            <i class="material-icons">
                {{ticketing.filterButtons.railZoneBtn ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <div class="nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.railZoneBtn">
            <div class="fields new-transport-icons-blue nga-fast nga-fade" data-ng-if="ticketing.postJSON.allowBus || ticketing.postJSON.allowTrain || ticketing.postJSON.allowMetro || ticketing.postedJSON.brand == 'ntrain' || ticketing.postedJSON.brand == 'nnetwork'">
                <label class="plain" for="PassengerType">From:</label>
                <span class="stylized-select">
                    <select id="railZoneFrom" name="railZoneFrom" aria-disabled="false" data-ng-model='ticketing.searchFilters.railZoneFrom'
                        data-ng-change="ticketing.update()">
                        <option value="">Any Zones</option>
                        <option data-ng-repeat="option in ticketing.filterButtons.railZoneFrom | orderBy: ticketing.searchFilters.railZoneFrom | filter:''" value="{{option}}">Zone {{option}}</option>
                    </select>
                </span>
                <br/><br/>
                <label class="plain" for="PassengerType">To:</label>
                <span class="stylized-select">
                    <select id="railZoneTo" name="railZoneTo" aria-disabled="false" data-ng-model='ticketing.searchFilters.railZoneTo' data-ng-change="ticketing.update()">
                        <option value="">Any Zones</option>
                        <option data-ng-repeat="option in ticketing.filterButtons.railZoneTo | orderBy: ticketing.searchFilters.railZoneTo | filter:''" value="{{option}}">Zone {{option}}</option>
                    </select>
                </span>
            </div>
        </div>
    </div>
</div>