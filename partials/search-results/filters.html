<div class="boxin bdr-top--blue ticket-filters">
    <h3>Filter your results</h3>
    <hr>
    
    <!-- Exclude Mode(s) -->
    <div class="filter-block" data-ng-hide="ticketing.postedJSON.brand == 'Diamond Bus' || ticketing.postedJSON.brand == 'Stagecoach'" data-ng-if="!ticketing.postedJSON.allowBus || !ticketing.postedJSON.allowTrain || !ticketing.postedJSON.allowMetro">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('mode')">
            Exclude mode(s)
            <i class="material-icons">
                {{ticketing.filterButtons.mode ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.mode">
            <li data-ng-if="!ticketing.postedJSON.allowBus">
                <input id="bus-only-radio" name="busOnly" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.allowBus"
                    data-ng-change="ticketing.update()" data-ng-true-value="false" data-ng-false-value="true" />
                <label for="bus-only-radio">Bus</label>
            </li>
    
            <li data-ng-if="!ticketing.postedJSON.allowTrain">
                <input id="train-only-radio" name="trainOnly" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.allowTrain"
                    data-ng-change="ticketing.update()" data-ng-true-value="false" data-ng-false-value="true" />
                <label for="train-only-radio">Train</label>
            </li>
    
            <li data-ng-if="!ticketing.postedJSON.allowMetro">
                <input id="tram-only-radio" name="tramOnly" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.allowMetro"
                    data-ng-change="ticketing.update()" data-ng-true-value="false" data-ng-false-value="true" />
                <label for="tram-only-radio">Tram</label>
            </li>
        </ul>
    </div>

    <!-- How to Buy -->
    <div class="filter-block">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('payment')">
            How to Buy
            <i class="material-icons">
                {{ticketing.filterButtons.payment ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.payment">
            <li>
                <input id="purchaseDebit" name="purchaseDebit" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.buyOnDirectDebit"
                    data-ng-change="ticketing.update()" />
                <label for="purchaseDebit">Direct Debit ({{ (ticketing.filteredTickets | filter: {buyOnDirectDebit: true}).length
                    }})
                </label>
            </li>
            <li>
                <input id="purchaseDirect" name="purchaseDirect" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.buyOnDirectPurchase"
                    data-ng-change="ticketing.update()" />
                <label for="purchaseDirect">Quick buy ({{ (ticketing.filteredTickets | filter: {buyOnDirectPurchase: true}).length
                    }})
                </label>
            </li>
            <li>
                <input id="purchaseSwift" name="purchaseSwift" type="checkbox" class="stylized" data-ng-model="ticketing.searchFilters.buyOnSwift"
                    data-ng-change="ticketing.update()" />
                <label for="purchaseSwift">Swift ({{ (ticketing.filteredTickets | filter: {buyOnSwift: true}).length }})
                </label>
            </li>
        </ul>
    </div>

    <!-- Bus Travel Area -->
    <div class="filter-block" data-ng-if="ticketing.postedJSON.allowBus || ticketing.postedJSON.brand == 'National Express' || ticketing.postedJSON.brand == 'nbus' || ticketing.postedJSON.brand == 'Diamond Bus' || ticketing.postedJSON.brand == 'Stagecoach' && ticketing.filterButtons.busTravelArea.length">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('busTravelAreaBtn')">
            Bus Travel Area
            <i class="material-icons">
                {{ticketing.filterButtons.busTravelAreaBtn ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.busTravelAreaBtn">
            <li data-ng-repeat="filter in ticketing.filterButtons.busTravelArea | orderBy: filter" data-ng-if="filter != null">
                <input id="busTravelArea{{$index}}" name="busTravelArea{{$index}}" type="radio" class="stylized" data-ng-model="ticketing.searchFilters.busTravelArea"
                    data-ng-change="ticketing.update()" value="{{filter}}" />
                <label for="busTravelArea{{$index}}">
                    <span data-ng-if="ticketing.postedJSON.brand == 'Diamond Bus'">{{filter |replace: 'Entire Operator Area':'Diamond Bus Area'}} ({{ (ticketing.filteredTickets | filter: {busTravelArea:filter}).length }})</span>
                    <span data-ng-if="ticketing.postedJSON.brand == 'Stagecoach'">{{filter |replace: 'Entire Operator Area':'Stagecoach Bus Area'}} ({{ (ticketing.filteredTickets | filter: {busTravelArea:filter}).length }})</span>
                    <span data-ng-hide="ticketing.postedJSON.brand == 'Diamond Bus' || ticketing.postedJSON.brand == 'Stagecoach'">{{filter |replace: 'Entire Operator Area':'Diamond Bus Area'}} ({{ (ticketing.filteredTickets | filter: {busTravelArea:filter}).length }})</span>
                </label>
            </li>
        </ul>
    </div>

    <!-- Bus Operator -->
    <div class="filter-block" data-ng-hide="ticketing.postedJSON.allowBus && ticketing.postedJSON.allowMetro && ticketing.postedJSON.allowTrain || ticketing.postedJSON.brand == 'nnetwork'" data-ng-if="ticketing.postedJSON.allowBus && ticketing.filterButtons.operator.length && ticketing.filterButtons.operator.length > '1'">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('operatorBtn')">
            Bus Operator
            <i class="material-icons">
                {{ticketing.filterButtons.operatorBtn ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <ul class="checkbox-list nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.operatorBtn">
            <li data-ng-repeat="filter in ticketing.filterButtons.operator | orderBy: filter" data-ng-if="filter != null">
                <input id="operator{{$index}}" name="operator{{$index}}" type="radio" class="stylized" data-ng-model="ticketing.searchFilters.operator"
                    data-ng-change="ticketing.update()" value="{{filter}}" />
                <label for="operator{{$index}}">{{filter}} ({{ (ticketing.filteredTickets | filter: {operator: filter}).length}})
                </label>
            </li>
        </ul>
    </div>

    <!-- Train Zones-->
    <div class="filter-block" data-ng-if="ticketing.postedJSON.allowTrain || ticketing.postedJSON.brand == 'ntrain' || ticketing.postedJSON.brand == 'nnetwork'">
        <div class="filter-title" data-ng-click="ticketing.toggleFilter('railZoneBtn')">
            Train/rail zones
            <i class="material-icons">
                {{ticketing.filterButtons.railZoneBtn ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}
            </i>
        </div>
        <div class="nga-fast nga-collapse" data-ng-show="ticketing.filterButtons.railZoneBtn">
            <div class="fields new-transport-icons-blue nga-fast nga-fade" data-ng-if="ticketing.postJSON.allowBus || ticketing.postJSON.allowTrain || ticketing.postJSON.allowMetro || ticketing.postedJSON.brand == 'ntrain' || ticketing.postedJSON.brand == 'nnetwork'">
                <label class="plain" for="PassengerType">From:</label>
                <span class="stylized-select">
                    <select id="railZoneFrom" name="railZoneFrom" aria-disabled="false" data-ng-model='ticketing.searchFilters.railZoneFrom'
                        data-ng-change="ticketing.update()">
                        <option value="">Any Zones</option>
                        <option data-ng-repeat="option in ticketing.filterButtons.railZoneFrom" value="{{option}}">Zone {{option}}</option>
                    </select>
                </span>
                <br/><br/>
                <label class="plain" for="PassengerType">To:</label>
                <span class="stylized-select">
                    <select id="railZoneTo" name="railZoneTo" aria-disabled="false" data-ng-model='ticketing.searchFilters.railZoneTo' data-ng-change="ticketing.update()">
                        <option value="">Any Zones</option>
                        <option data-ng-repeat="option in ticketing.filterButtons.railZoneTo" value="{{option}}">Zone {{option}}</option>
                    </select>
                </span>
            </div>

        </div>
    </div>

</div>