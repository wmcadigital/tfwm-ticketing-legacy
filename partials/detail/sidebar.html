<style>
.ng-modal-overlay {
  /* A dark translucent div that covers the whole screen */
  position:absolute;
  z-index:9999;
  top:0;
  left:0;
  width:100%;
  height:100%;
}
.ng-modal-dialog {
  /* A centered div above the overlay with a box shadow. */
  z-index:10000;
  position: absolute;
  width: 50%; /* Default */

  /* Center the dialog */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);

  background-color: #fff;
}
.ng-modal-dialog-content {
  padding:10px;
  text-align: left;
}
.ng-modal-close {
  position: absolute;
  top: 3px;
  right: 5px;
  padding: 5px;
  cursor: pointer;
  font-size: 120%;
  display: inline-block;
  font-weight: bold;
  font-family: 'arial', 'sans-serif';
}
</style>

<div class="block block--fullwidth mobile--void">
    <div class="boxin" ng-class="{'bdr-top--orange' : ticket.all.AllowBus==true && ticket.all.AllowTrain==false && ticket.all.AllowMetro==false, 'bdr-top--green' : ticket.all.AllowBus==false && ticket.all.AllowTrain==true && ticket.all.AllowMetro==false, 'bdr-top--pink' : ticket.all.AllowBus==false && ticket.all.AllowTrain==false && ticket.all.AllowMetro==true, 'bdr-top--blue' : ticket.all.AllowBus==true && ticket.all.AllowMetro==true && ticket.all.AllowTrain==false, 'bdr-009fe3' : ticket.all.AllowBus==true && ticket.all.AllowTrain==true && ticket.all.AllowMetro==true, 'bdr-top--cyan' : ticket.AllowBus==true && ticket.AllowTrain==true && ticket.AllowMetro==false}">
        <h3 class="price">
            <span data-ng-if="!ticket.all.SwiftCurrentAmount">{{ticket.all.PriceOverride || (ticket.all.TicketCurrentAmount | currency:"£")}}</span>
            <span data-ng-if="ticket.all.SwiftCurrentAmount">
                Swift: {{ticket.all.SwiftCurrentAmount | currency:"£"}}
                <br> Cash: {{ticket.all.TicketCurrentAmount | currency:"£"}}
            </span>
            <span data-ng-if="ticket.all.ValidityId == 450930002">
                per month</span>
            <span data-ng-if="ticket.all.ValidityId == 450930006"> per month</span>
            <span data-ng-if="ticket.all.ValidityId == 450930000"> a day</span>
            <span data-ng-if="ticket.all.ValidityId == 450930001"> a week</span>
            <span data-ng-if="ticket.all.ValidityId == 450930003"> for 1 year</span>
        </h3>
        <hr>
        <p class="type--small">
            <p data-ng-if="ticket.all.BuyOnSwift">Buy your Swift card online and it will be sent to you in the post</p>
            <p data-ng-if="ticket.all.PurchaseTic">Buy this ticket from a local travel shop</p>
            <ul data-ng-if="ticket.all.PurchaseTic">
                <li>
                    <a href="http://www.networkwestmidlands.com/get-in-touch/travel-centres" target="_blank">Purchase at a Travel Information Centre</a>
                </li>
            </ul>
        </p>

        <a data-ng-if="ticket.all.BuyTicketUrl" class="btn btn--arrow" data-ng-href="{{ticket.all.BuyTicketUrl}}" target="_blank">
            {{ticket.all.BuyOnDirectDebit ? "Buy on Direct Debit" : ticket.all.BuyOnSwift ? "Buy on Swift" : ticket.all.HasOnlinePurchaseChannel
            ? "Quick buy" : "Buy at travel centre"}}</a>


        <span data-ng-if="ticket.all.SwiftCurrentAmount">
            <ul>
                <li data-ng-if="ticket.all.PurchaseRailStation">Purchase at a staffed rail station</li>
                <li data-ng-if="ticket.all.PurchaseOnBus">Purchase on Bus</li>
                <li data-ng-if="ticket.all.PurchaseOnMetro">Purchase on Metro</li>
            </ul>
        </span>
    </div>
</div>

<div data-ng-if="ticket.all.AllowBus" class="block block--fullwidth mobile--void">
    <div class="boxin bdr-top--orange">
        <h3><span class="icon icon--bus ng-scope" title="Use on Bus" style=""></span> Where can I use?</h3>
        <hr>
        <p class="type--small">
                <a href="../../assets/nbus_nnetworkMap.png" data-lightbox="bus"><img src="/assets/nbus_nnetworkMap.png" /></a>
                <p class="summary">Bus operators who accept this ticket</p>
                <p>Use this ticket on all major bus operators within the region</p>

                <button class="btn btn--arrow" data-ng-click='ticket.toggleModal()'>See bus operators</button>
                    
                <modal-dialog show='ticket.modalShown' width='80%' height='50%'>
                     <h2>Bus operators</h2>
                </modal-dialog>


            <!--<ul>
                <li data-ng-if="ticket.all.AllowBus">Use on the
                    <a href="../../assets/nbus_nnetworkMap.png" data-lightbox="bus">Bus</a>
                </li>
                <li data-ng-if="ticket.all.AllowTrain">Use on the
                    <a data-ng-if="ticket.all.AllowTrain" href="../../assets/NWMzonalcurves.png" data-lightbox="train">Train</a>
                    <span data-ng-if="ticket.all.RailZoneFrom === ticket.all.RailZoneTo">(Zone {{ticket.all.RailZoneFrom}} only)</span>
                    <span data-ng-if="ticket.all.RailZoneFrom != ticket.all.RailZoneTo">(Zones {{ticket.all.RailZoneFrom}} to {{ticket.all.RailZoneTo}})</span>
                </li>
                <li data-ng-if="ticket.all.AllowMetro">Use on the
                    <a data-ng-if="ticket.all.AllowMetro" href="../../assets/Metro-Line-Route.png" data-lightbox="metro">Metro</a>
                </li>
                <li data-ng-if="ticket.all.AllowBus && ticket.all.BuyOnSwift">Use your Swift card on all major
                    <a href="https://journeyplanner.networkwestmidlands.com/operator" target="_blank">bus operators</a> within the region</li>
                <li data-ng-if="ticket.all.OperatorId === '0a3dc42a-7e80-e411-9265-0050568f6584'">Any Diamond Bus bus, within the West Midlands County</li>
            </ul>-->
        </p>
    </div>
</div>
<!-- Swift - How to use -->
<!--<div class="block block--fullwidth mobile--void" data-ng-if="ticket.all.BuyOnSwift">
    <div class="boxin bdr-top--navy">
        <h3>How to use?</h3>
        <hr>
        <p class="type--small">
            <ul>
                <li>Buy online</li>
                <li>Top up (set up auto top-up)</li>
                <li>Tap on card reader or pass to the driver</li>
                <li>Always get home</li>
            </ul>
        </p>
    </div>
</div>-->
<!-- Direct Debit - How to use -->
<!--<div class="block block--fullwidth mobile--void" data-ng-if="ticket.all.BuyOnDirectDebit">
    <div class="boxin bdr-top--navy">
        <h3>How to use?</h3>
        <hr>
        <p class="type--small">
            <ul>
                <li>Buy online</li>
                <li>Set up direct debit</li>
                <li>Use on transport</li>
                <li>Always get home</li>
            </ul>
        </p>
    </div>
</div>-->